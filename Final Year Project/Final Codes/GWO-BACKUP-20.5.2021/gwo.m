function out = gwo(X)
A1 = X(:,1);
A2 = X(:,2);
A3 = X(:,3);
A4 = X(:,4);
A5 = X(:,5);
A6 = X(:,6);
A7 = X(:,7);

%%% Parameters
elec = 20e-03;
tao = 5000;
Cph = 1122;
Cpc = 1073;
mc = 2;
mh = 1.66;
TempH = 900;
TempC = 200;
Prh = 0.731;
Prc = 0.694;
Cmin = mh * Cph;
Cmax = mc * Cpc;
Cr = Cmin / Cmax;
roi = 0.1;
Z = 10;
Acf = (roi)/(1-(1+roi)^-Z);

%%% Write Object function here
fx = ((Acf .* 90 .* ((A1.*A2.*A7.*(1+2.*A5.*(A3-A4))) + (A1.*A2.*A7.*(1+2.*A5.*(A3-A4)))).^0.6)) + (((tao.*elec.*(((2).*( (9.6243.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^-0.7422.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1856.*( A4 ./ A6).^0.3053.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.2659).*(1+7.669e-08.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^4.429.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.920.*( A4 ./ A6).^3.767.*( A4 ./ ((1 ./ A5 ) - A4)).^0.236).^0.1).*A1.*(( 1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)).^2))./((0.6296).*( ((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))).*10e-4).*mh)./(0.6.*0.6296))+((tao.*elec.*(((2).*( (9.6243.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^-0.7422.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1856.*( A4 ./ A6).^0.3053.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.2659).*(1+7.669e-08.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^4.429.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.920.*( A4 ./ A6).^3.767.*( A4 ./ ((1 ./ A5 ) - A4)).^0.236).^0.1).*A2.*(( 2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))).^2))./((0.9638).*( ((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))).*10e-4).*mc)./(0.6.*0.9638)));

%%% Write inequality constraints
g(:,1)=0.134-(((1./A5-A4))./(A3-A4));                                 % <=0 type constraints
g(:,2)=(((1./A5-A4))./(A3-A4))-0.997;                                 % <=0 type constraints
g(:,3)=0.012-(A4./A6);
g(:,4)=(A4./A6)-0.048;
g(:,5)=0.041-(A4./((1./A5-A4)));
g(:,7)=(A4./((1./A5-A4)))-0.121;
g(:,8)=120-(((1.66./((A3-A4).*(1-A5.*A4).*A1.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(4.01.*10.^-5));
g(:,9)=(((1.66./((A3-A4).*(1-A5.*A4).*A1.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(4.01.*10.^-5))-10000;
g(:,10)=120-(((2.00./((A3-A4).*(1-A5.*A4).*A2.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(3.36.*10.^-5));
g(:,11)=(((2.00./((A3-A4).*(1-A5.*A4).*A2.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(3.36.*10.^-5))-10000;
g(:,12)=(((2.*(9.6243.*((((1.66./((A3-A4).*(1-A5.*A4).*A1.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(4.01.*10.^-5)).^-0.7422).*((((1./A5-A4))./(A3-A4)).^-0.1856).*((A4./A6).^0.3053).*((A4./((1./A5-A4))).^-0.2659).*(1+(7.669.*10.^-8).*((((1.66./((A3-A4).*(1-A5.*A4).*A1.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(4.01.*10.^-5)).^4.429).*((((1./A5-A4))./(A3-A4)).^0.920).*((A4./A6).^3.767).*((A4./((1./A5-A4))).^0.236)).^0.1).*A2.*(1.66./((A3-A4).*(1-A5.*A4).*A1.*A7)).^2)./(0.6296.*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4)))).*10.^-3))-9.5;
g(:,13)=(((2.*(9.6243.*((((2.00./((A3-A4).*(1-A5.*A4).*A2.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(3.36.*10.^-5)).^-0.7422).*((((1./A5-A4))./(A3-A4)).^-0.1856).*((A4./A6).^0.3053).*((A4./((1./A5-A4))).^-0.2659).*(1+(7.669.*10.^-8).*((((2.00./((A3-A4).*(1-A5.*A4).*A2.*A7)).*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4))))./(3.36.*10.^-5)).^4.429).*((((1./A5-A4))./(A3-A4)).^0.920).*((A4./A6).^3.767).*((A4./((1./A5-A4))).^0.236)).^0.1).*A1.*(2.00./((A3-A4).*(1-A5.*A4).*A2.*A7)).^2)./(0.9638.*((4.*((1./A5)-A4).*A6.*(A3-A4))./(2.*(((1./A5)-A4).*A6+(A3-A4).*A6+(A3-A4).*A4)+A4.*((1./A5)-A4)))).*10.^-3))-8;
g(:,14)=(A3 - 2.*A4 + A7.*(2.*A3+2.*A4))-1.5;
g(:,15)=1068.9 - (((1 - exp((1./Cr).*( ((1 ./ ((1./(((((0.6522.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^-0.5403.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1541.*( A4 ./ A6).^0.1499.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.0678).*(1+5.269e-05.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^1.34.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.504.*( A4 ./ A6).^0.456.*( A4 ./ ((1 ./ A5 ) - A4)).^-1.055).^0.1) .*(1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)).* 1122 .* 0.731.^(-2./3)).*10.^-3).*( A1.*A2.*A7.*(1+2.*A5.*(A3-A4)))))+(1./(((((0.6522.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^-0.5403.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1541.*( A4 ./ A6).^0.1499.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.0678).*(1+5.269e-05.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^1.34.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.504.*( A4 ./ A6).^0.456.*( A4 ./ ((1 ./ A5 ) - A4)).^-1.055).^0.1) .* (2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* 1073 .* 0.694.^(-2./3)).*10.^-3).*( A1.*A2.*A7.*(1+2.*A5.*(A3-A4))))))) ./ (mh .* Cph)).*10.^3).^0.22.*(exp(-Cr.*(((1 ./ ((1./(((((0.6522.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^-0.5403.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1541.*( A4 ./ A6).^0.1499.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.0678).*(1+5.269e-05.*(((1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4))))./4.01e-05).^1.34.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.504.*( A4 ./ A6).^0.456.*( A4 ./ ((1 ./ A5 ) - A4)).^-1.055).^0.1) .*(1.66 ./ ((A3 - A4).*(1 - A5.*A4).*A2.*A7)).* 1122 .* 0.731.^(-2./3)).*10.^-3).*( A1.*A2.*A7.*(1+2.*A5.*(A3-A4)))))+(1./(((((0.6522.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^-0.5403.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^-0.1541.*( A4 ./ A6).^0.1499.*( A4 ./ ((1 ./ A5 ) - A4)).^-0.0678).*(1+5.269e-05.*(((2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* (((4).*(((1 ./ A5 ) - A4)).*(A6).*(A3 - A4))./(2.*((((1 ./ A5 ) - A4).*A6)+(A3-A4).*A6+(A3 - A4).*A4)+A4.*((1 ./ A5 ) - A4)))) ./ 3.36e-05).^1.34.*(((1 ./ A5 ) - A4) ./ (A3 - A4)).^0.504.*( A4 ./ A6).^0.456.*( A4 ./ ((1 ./ A5 ) - A4)).^-1.055).^0.1) .* (2 ./ ((A3 - A4).*(1 - A5.*A4).*A1.*(A7+1))) .* 1073 .* 0.694.^(-2./3)).*10.^-3).*( A1.*A2.*A7.*(1+2.*A5.*(A3-A4))))))) ./ (mh .* Cph)).*10.^3).^0.78)-1))) .* Cmin .* (TempH - TempC)).*10.^-3);

 

%%% Define penaty term
pp = 10^9;
for i=1:size(g,1)
    for j=1:size(g,2)
        if g(i,j)>0
            penalty(i,j) = pp.*g(i,j);
        else
            penalty(i,j)=0;
        end
    end
end

%%% Compute Object function
out = fx+sum(penalty,2);

